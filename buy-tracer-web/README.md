# è‚¡ç¥¨è²·é»è¿½è¹¤ Web ç³»çµ±

> åŸºæ–¼æŠ€è¡“åˆ†æçš„å°ç£è‚¡ç¥¨è²·é»è¿½è¹¤ç³»çµ±ï¼Œæä¾›æ™ºèƒ½æ•¸æ“šå¿«å–èˆ‡è¦–è¦ºåŒ–åˆ†æ

[![Python](https://img.shields.io/badge/Python-3.9+-blue.svg)](https://www.python.org/)
[![Flask](https://img.shields.io/badge/Flask-3.0-green.svg)](https://flask.palletsprojects.com/)
[![License](https://img.shields.io/badge/License-MIT-yellow.svg)](LICENSE)

## åŠŸèƒ½ç‰¹è‰²

- ğŸ“Š **æ™ºèƒ½æ•¸æ“šç®¡ç†**ï¼šè‡ªå‹•å¿«å–æ­·å²æ•¸æ“šï¼Œå¢é‡æ›´æ–°è‡³å‰ä¸€æ—¥æ”¶ç›¤
- ğŸ¯ **é›™ç­–ç•¥è²·é»**ï¼šè¶¨å‹¢ç¢ºç«‹è²·é» + æ‹‰å›æ”¯æ’è²·é»
- ğŸ“ˆ **äº’å‹•å¼åœ–è¡¨**ï¼šåŸºæ–¼ Plotly çš„å‹•æ…‹ K ç·šåœ–ã€MACD åœ–
- ğŸ’¾ **JSON å¿«å–**ï¼šæœ¬åœ°å­˜å„²ï¼Œç„¡éœ€è³‡æ–™åº«ï¼Œéƒ¨ç½²ç°¡å–®
- ğŸ“± **éŸ¿æ‡‰å¼è¨­è¨ˆ**ï¼šæ”¯æ´æ¡Œé¢èˆ‡ç§»å‹•è¨­å‚™
- ğŸ”„ **è‡ªå‹•å¢é‡æ›´æ–°**ï¼šåƒ…ä¸‹è¼‰ç¼ºå¤±æ—¥æœŸï¼Œç¯€çœæ™‚é–“èˆ‡æµé‡

## å¿«é€Ÿé–‹å§‹

### å®‰è£

```bash
# å…‹éš†å°ˆæ¡ˆ
git clone https://github.com/your-repo/buy-tracer-web.git
cd buy-tracer-web

# å‰µå»ºè™›æ“¬ç’°å¢ƒ
python -m venv venv
source venv/bin/activate  # Windows: venv\Scripts\activate

# å®‰è£ä¾è³´
pip install -r requirements.txt

# å‰µå»ºå¿…è¦ç›®éŒ„
mkdir -p data/cache data/logs data/metadata
```

### é…ç½®

```bash
# è¤‡è£½ç’°å¢ƒè®Šæ•¸ç¯„ä¾‹
cp .env.example .env

# ç·¨è¼¯é…ç½®ï¼ˆå¯é¸ï¼‰
nano .env
```

### å•Ÿå‹•

```bash
# é–‹ç™¼æ¨¡å¼
python app.py

# è¨ªå•æ‡‰ç”¨
http://localhost:5000
```

## ä½¿ç”¨æ–¹å¼

### 1. è¼¸å…¥è‚¡ç¥¨ä»£è™Ÿ
åœ¨é¦–é è¼¸å…¥å°è‚¡ä»£è™Ÿï¼Œä¾‹å¦‚ï¼š
- `2330` - å°ç©é›»
- `3363` - ä¸Šè©®
- `2454` - è¯ç™¼ç§‘

### 2. æŸ¥çœ‹åˆ†æçµæœ
ç³»çµ±è‡ªå‹•åŸ·è¡Œï¼š
- âœ… ä¸‹è¼‰/æ›´æ–°æ­·å²æ•¸æ“š
- âœ… è¨ˆç®—æŠ€è¡“æŒ‡æ¨™ï¼ˆMA5/20/60ã€MACDï¼‰
- âœ… ç”Ÿæˆè²·é»è¨Šè™Ÿ
- âœ… ç¹ªè£½äº’å‹•å¼åœ–è¡¨

### 3. è§£è®€è²·é»è¨Šè™Ÿ

#### ğŸš€ ç­–ç•¥ä¸€ï¼šè¶¨å‹¢ç¢ºç«‹è²·é»
**é©ç”¨å ´æ™¯**ï¼šè¶¨å‹¢å•Ÿå‹•åˆæœŸ

**æ¢ä»¶**ï¼š
- MA5 å‘ä¸Šçªç ´ MA20ï¼ˆé»ƒé‡‘äº¤å‰ï¼‰
- å¤šé ­æ’åˆ—ï¼ˆMA5 > MA20 > MA60ï¼‰
- æˆäº¤é‡æ”¾å¤§ï¼ˆ> 5æ—¥å‡é‡ï¼‰

#### âœ¨ ç­–ç•¥äºŒï¼šæ‹‰å›æ”¯æ’è²·é»
**é©ç”¨å ´æ™¯**ï¼šä¸Šå‡è¶¨å‹¢ä¸­çš„å›æª”

**æ¢ä»¶**ï¼š
- MACD ç¶­æŒå¤šé ­ï¼ˆDIF > DEMï¼‰
- æŸ±ç‹€é«”äºŒæ¬¡ç¿»ç´…ï¼ˆOSC åå½ˆï¼‰
- æ”¶ç›¤åƒ¹å®ˆç©© MA20

## æŠ€è¡“æ¶æ§‹

```
Flask å¾Œç«¯
â”œâ”€â”€ è·¯ç”±å±¤ (Routes)
â”œâ”€â”€ æ¥­å‹™é‚è¼¯å±¤ (Services)
â”‚   â”œâ”€â”€ StockDataService    # æ•¸æ“šç®¡ç†
â”‚   â”œâ”€â”€ IndicatorService    # æŒ‡æ¨™è¨ˆç®—
â”‚   â”œâ”€â”€ SignalService       # è¨Šè™Ÿç”Ÿæˆ
â”‚   â””â”€â”€ ChartService        # åœ–è¡¨ç”Ÿæˆ
â”œâ”€â”€ è³‡æ–™å­˜å–å±¤ (Data Access)
â”‚   â”œâ”€â”€ CacheManager        # JSON å¿«å–
â”‚   â””â”€â”€ TwstockClient       # è‚¡ç¥¨æ•¸æ“šæº
â””â”€â”€ æ•¸æ“šå„²å­˜ (JSON Files)
```

## å°ˆæ¡ˆçµæ§‹

```
buy-tracer-web/
â”œâ”€â”€ app.py                  # Flask ä¸»ç¨‹å¼
â”œâ”€â”€ config.py               # é…ç½®æ–‡ä»¶
â”œâ”€â”€ requirements.txt        # Python ä¾è³´
â”œâ”€â”€ .env.example            # ç’°å¢ƒè®Šæ•¸ç¯„ä¾‹
â”œâ”€â”€ services/               # æ¥­å‹™é‚è¼¯
â”‚   â”œâ”€â”€ stock_data_service.py
â”‚   â”œâ”€â”€ indicator_service.py
â”‚   â”œâ”€â”€ signal_service.py
â”‚   â””â”€â”€ chart_service.py
â”œâ”€â”€ utils/                  # å·¥å…·å‡½å¼
â”‚   â”œâ”€â”€ cache_manager.py
â”‚   â””â”€â”€ date_utils.py
â”œâ”€â”€ routes/                 # è·¯ç”±
â”‚   â”œâ”€â”€ web_routes.py
â”‚   â””â”€â”€ api_routes.py
â”œâ”€â”€ templates/              # HTML æ¨¡æ¿
â”‚   â”œâ”€â”€ index.html
â”‚   â”œâ”€â”€ analyze.html
â”‚   â””â”€â”€ history.html
â”œâ”€â”€ static/                 # éœæ…‹è³‡æº
â”‚   â”œâ”€â”€ css/
â”‚   â”œâ”€â”€ js/
â”‚   â””â”€â”€ images/
â”œâ”€â”€ data/                   # æ•¸æ“šå„²å­˜
â”‚   â”œâ”€â”€ cache/              # JSON å¿«å–
â”‚   â”œâ”€â”€ logs/               # æ—¥èªŒ
â”‚   â””â”€â”€ metadata/           # å…ƒæ•¸æ“š
â””â”€â”€ docs/                   # è¨­è¨ˆæ–‡æª”
    â”œâ”€â”€ 01-ç³»çµ±æ¶æ§‹è¨­è¨ˆ.md
    â”œâ”€â”€ 02-APIè¦æ ¼æ–‡æª”.md
    â”œâ”€â”€ 03-è³‡æ–™å­˜å„²æ ¼å¼.md
    â”œâ”€â”€ 04-å‰ç«¯ä»‹é¢è¨­è¨ˆ.md
    â””â”€â”€ 05-éƒ¨ç½²èˆ‡ä½¿ç”¨èªªæ˜.md
```

## API æ–‡æª”

### åˆ†æè‚¡ç¥¨

```http
POST /api/analyze
Content-Type: application/json

{
  "ticker": "2330",
  "start_date": "2024-01-01",
  "days": 120
}
```

### ç²å–æ­·å²è¨˜éŒ„

```http
GET /api/history?sort_by=last_update&order=desc
```

### æ¸…é™¤å¿«å–

```http
DELETE /api/cache/{ticker}
```

è©³ç´° API æ–‡æª”è«‹åƒè€ƒï¼š[02-APIè¦æ ¼æ–‡æª”.md](docs/02-APIè¦æ ¼æ–‡æª”.md)

## è¨­è¨ˆæ–‡æª”

æœ¬å°ˆæ¡ˆæä¾›å®Œæ•´çš„è¨­è¨ˆæ–‡æª”ï¼Œä½æ–¼ `docs/` ç›®éŒ„ï¼š

1. **[ç³»çµ±æ¶æ§‹è¨­è¨ˆ](01-ç³»çµ±æ¶æ§‹è¨­è¨ˆ.md)**
   - æ•´é«”æ¶æ§‹åœ–
   - æ¨¡çµ„è¨­è¨ˆ
   - æ•¸æ“šæµç¨‹
   - å¿«å–ç­–ç•¥

2. **[API è¦æ ¼æ–‡æª”](02-APIè¦æ ¼æ–‡æª”.md)**
   - REST API ç«¯é»
   - è«‹æ±‚/éŸ¿æ‡‰æ ¼å¼
   - éŒ¯èª¤ç¢¼è¡¨
   - ä½¿ç”¨ç¯„ä¾‹

3. **[è³‡æ–™å­˜å„²æ ¼å¼](03-è³‡æ–™å­˜å„²æ ¼å¼.md)**
   - JSON çµæ§‹å®šç¾©
   - å¿«å–ç®¡ç†ç­–ç•¥
   - æ•¸æ“šé©—è­‰è¦å‰‡
   - å‚™ä»½èˆ‡æ¢å¾©

4. **[å‰ç«¯ä»‹é¢è¨­è¨ˆ](04-å‰ç«¯ä»‹é¢è¨­è¨ˆ.md)**
   - é é¢è¨­è¨ˆ
   - çµ„ä»¶çµæ§‹
   - JavaScript æ¶æ§‹
   - éŸ¿æ‡‰å¼è¨­è¨ˆ

5. **[éƒ¨ç½²èˆ‡ä½¿ç”¨èªªæ˜](05-éƒ¨ç½²èˆ‡ä½¿ç”¨èªªæ˜.md)**
   - ç’°å¢ƒæº–å‚™
   - å®‰è£æ­¥é©Ÿ
   - ç”Ÿç”¢éƒ¨ç½²
   - ç–‘é›£æ’è§£

## éƒ¨ç½²

### Docker

```bash
# å»ºç½®æ˜ åƒ
docker-compose build

# å•Ÿå‹•æœå‹™
docker-compose up -d
```

### Heroku

```bash
# å‰µå»ºæ‡‰ç”¨
heroku create buy-tracer-web

# éƒ¨ç½²
git push heroku main
```

### Nginx + Gunicorn

è©³ç´°éƒ¨ç½²èªªæ˜è«‹åƒè€ƒï¼š[05-éƒ¨ç½²èˆ‡ä½¿ç”¨èªªæ˜.md](docs/05-éƒ¨ç½²èˆ‡ä½¿ç”¨èªªæ˜.md)

## æŠ€è¡“æ£§

### å¾Œç«¯
- **Flask 3.0** - Web æ¡†æ¶
- **Pandas** - æ•¸æ“šè™•ç†
- **twstock** - å°è‚¡æ•¸æ“šæº
- **Plotly** - åœ–è¡¨ç”Ÿæˆ

### å‰ç«¯
- **Bootstrap 5** - UI æ¡†æ¶
- **Plotly.js** - äº’å‹•å¼åœ–è¡¨
- **Axios** - HTTP å®¢æˆ¶ç«¯

### å­˜å„²
- **JSON** - æœ¬åœ°å¿«å–æ ¼å¼

## ç³»çµ±éœ€æ±‚

- Python 3.9+
- 2GB+ RAM
- 500MB+ å¯ç”¨ç©ºé–“

## æ³¨æ„äº‹é …

- âš ï¸ æœ¬ç³»çµ±åƒ…ä¾›æŠ€è¡“å­¸ç¿’èˆ‡ç ”ç©¶ä½¿ç”¨
- âš ï¸ æŠ€è¡“æŒ‡æ¨™æœ‰æ»¯å¾Œæ€§ï¼Œä¸æ‡‰ä½œç‚ºå”¯ä¸€æ±ºç­–ä¾æ“š
- âš ï¸ æŠ•è³‡æœ‰é¢¨éšªï¼Œè«‹è¬¹æ…è©•ä¼°
- âš ï¸ twstock æ•¸æ“šæœ‰å»¶é²ï¼Œä¸é©ç”¨æ–¼å³æ™‚äº¤æ˜“

## æœªä¾†è¦åŠƒ

- [ ] å¤šè‚¡ç¥¨æ‰¹æ¬¡åˆ†æ
- [ ] åœææ©Ÿåˆ¶
- [ ] ç­–ç•¥å›æ¸¬åŠŸèƒ½
- [ ] Email/LINE é€šçŸ¥
- [ ] è³£é»ç­–ç•¥
- [ ] è‡ªå®šç¾©æŒ‡æ¨™åƒæ•¸
- [ ] æ•¸æ“šåŒ¯å‡ºï¼ˆCSV/Excelï¼‰
- [ ] ä½¿ç”¨è€…å¸³æˆ¶ç³»çµ±

## æˆæ¬Š

MIT License - è©³è¦‹ [LICENSE](LICENSE) æ–‡ä»¶

## è²¢ç»

æ­¡è¿æäº¤ Issue æˆ– Pull Requestï¼

## ç›¸é—œå°ˆæ¡ˆ

- [åŸå§‹ Python è…³æœ¬](../buy-tracer-twstock.py) - å‘½ä»¤è¡Œç‰ˆæœ¬çš„è²·é»è¿½è¹¤å·¥å…·

## è‡´è¬

- æ•¸æ“šä¾†æºï¼š[twstock](https://github.com/mlouielu/twstock)
- UI æ¡†æ¶ï¼š[Bootstrap](https://getbootstrap.com/)
- åœ–è¡¨åº«ï¼š[Plotly](https://plotly.com/)

---

**ç‰ˆæœ¬**: 1.0.0
**æœ€å¾Œæ›´æ–°**: 2025-12-09
**ä½œè€…**: Buy Tracer Team

å¦‚æœ‰å•é¡Œæˆ–å»ºè­°ï¼Œè«‹é–‹å•Ÿ [Issue](https://github.com/your-repo/buy-tracer-web/issues)
